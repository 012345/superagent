generator client {
  provider  = "prisma-client-py"
  interface = "asyncio"
}

datasource db {
  provider          = "postgresql"
  url               = env("DATABASE_URL")
  shadowDatabaseUrl = env("DATABASE_SHADOW_URL")
}

enum DocumentType {
  TXT
  PDF
  CSV
  YOUTUBE
  OPENAPI
  URL
  MARKDOWN
  FIRESTORE
  PSYCHIC
  GITHUB_REPOSITORY
  WEBPAGE
  STRIPE
  AIRTABLE
  SITEMAP
  NOTION
}

enum ToolType {
  BROWSER
  SEARCH
  WOLFRAM_ALPHA
  REPLICATE
  ZAPIER_NLA
  AGENT
  OPENAPI
  CHATGPT_PLUGIN
  METAPHOR
}

enum LLMProvider {
  OPENAI
}

enum LLMModel {
  GPT_3_5_TURBO_16K_0613
  GPT_3_5_TURBO_0613
  GPT_4_0613
  GPT_4_32K_0613
}

model Agent {
  id        String   @id @default(uuid())
  name      String
  isActive  Boolean  @default(false)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  llm       LLM      @relation(fields: [llmId], references: [id])
  llmId     String   @unique
}

model LLM {
  id        String      @id @default(uuid())
  provider  LLMProvider @default(OPENAI)
  model     LLMModel    @default(GPT_3_5_TURBO_16K_0613)
  apiKey    String
  options   Json?
  agent     Agent?
  createdAt DateTime    @default(now())
  updatedAt DateTime    @updatedAt
}
